using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class CraftSlot : MonoBehaviour
{
    [SerializeField] private Animator animator;
    [SerializeField] private Image imgIcon;
    [SerializeField] private Image selectImg;
    [SerializeField] private GameObject tutorialBox;
    [System.NonSerialized] public ItemData itemData;

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// : 아이템 정보표시
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void SetData(ItemData itemData)
    {
        this.itemData = itemData;

        Sprite sprite = itemData.itemSprite;
        imgIcon.sprite = sprite;
    }

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// : 슬롯에 해당하는 애니메이션 실행 
    ///      Show : 나타나는 애니메이션
    ///      Hide : 사라지는 애니메이션
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void ShowAni(string ani)
    {
        if (animator)
        {
            animator.SetTrigger(ani);
        }
    }

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// : 선택여부 이펙트 활성화/비활성화
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void SelectSlot(bool state)
    {
        selectImg.enabled = state;
    }

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// : 슬롯의 아이템 아이콘 클릭시 이벤트
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void ClickSlot()
    {
        Craft.UnSelectSlots();
        SelectSlot(true);
        Craft.ChangeNowItem(itemData);
        Craft.ShowItemExplain(itemData);
    }

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    /// : 튜토리얼 박스 활성/비활성
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    public void OnOffTutorialBox(bool state)
    {
        tutorialBox.SetActive(state);
    }
}
